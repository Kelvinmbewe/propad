#1 [internal] load local bake definitions
#1 reading from stdin 930B 0.0s done
#1 DONE 0.0s

#2 [internal] load build definition from web.Dockerfile
#2 transferring dockerfile: 1.20kB 0.0s done
#2 DONE 0.1s

#3 [auth] library/node:pull token for registry-1.docker.io
#3 DONE 0.0s

#4 [internal] load metadata for docker.io/library/node:20-slim
#4 DONE 3.3s

#5 [internal] load .dockerignore
#5 transferring context:
#5 transferring context: 2B done
#5 DONE 0.5s

#6 [builder  1/15] FROM docker.io/library/node:20-slim@sha256:a270640213033657548b7ed57852709a0d2ee3b277f902f912367216aa8e9520
#6 resolve docker.io/library/node:20-slim@sha256:a270640213033657548b7ed57852709a0d2ee3b277f902f912367216aa8e9520 0.1s done
#6 DONE 0.1s

#7 [runner 3/8] RUN apt-get update -y && apt-get install -y curl && rm -rf /var/lib/apt/lists/*
#7 CACHED

#8 [builder  2/15] WORKDIR /app
#8 CACHED

#9 [runner 4/8] RUN npm install -g pnpm@10.19.0
#9 CACHED

#10 [internal] load build context
#10 transferring context: 100.64kB 5.2s
#10 transferring context: 117.95kB 5.3s done
#10 DONE 5.5s

#11 [builder  5/15] COPY tsconfig.json ./
#11 CACHED

#12 [builder  3/15] COPY package*.json ./
#12 CACHED

#13 [builder  4/15] COPY pnpm-workspace.yaml ./
#13 CACHED

#14 [builder  6/15] COPY packages ./packages
#14 CACHED

#15 [builder  7/15] COPY apps/web ./apps/web
#15 DONE 19.0s

#16 [builder  8/15] COPY apps/api/prisma ./apps/web/prisma
#16 DONE 1.7s

#17 [builder  9/15] RUN npm install -g pnpm@10.19.0
#17 12.31 
#17 12.31 added 1 package in 6s
#17 12.31 
#17 12.31 1 package is looking for funding
#17 12.31   run `npm fund` for details
#17 12.32 npm notice
#17 12.32 npm notice New major version of npm available! 10.8.2 -> 11.7.0
#17 12.32 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#17 12.32 npm notice To update run: npm install -g npm@11.7.0
#17 12.32 npm notice
#17 DONE 12.7s

#18 [builder 10/15] RUN pnpm config set fetch-retries 5     && pnpm config set fetch-retry-mintimeout 20000     && pnpm config set fetch-retry-maxtimeout 120000
#18 DONE 2.0s

#19 [builder 11/15] RUN pnpm install --recursive --frozen-lockfile=false
#19 0.932 Scope: all 7 workspace projects
#19 1.551 Progress: resolved 1, reused 0, downloaded 0, added 0
#19 1.657 
#19 1.657    Ôò¡ÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔò«
#19 1.657    Ôöé                                          Ôöé
#19 1.657    Ôöé   Update available! 10.19.0 ÔåÆ 10.27.0.   Ôöé
#19 1.657    Ôöé   Changelog: https://pnpm.io/v/10.27.0   Ôöé
#19 1.657    Ôöé     To update, run: pnpm add -g pnpm     Ôöé
#19 1.657    Ôöé                                          Ôöé
#19 1.657    Ôò░ÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔò»
#19 1.657 
#19 2.558 Progress: resolved 13, reused 0, downloaded 4, added 0
#19 3.557 Progress: resolved 22, reused 3, downloaded 13, added 0
#19 4.625 Progress: resolved 35, reused 3, downloaded 19, added 0
#19 5.676 Progress: resolved 41, reused 3, downloaded 29, added 0
#19 6.769 Progress: resolved 46, reused 3, downloaded 32, added 0
#19 7.800 Progress: resolved 54, reused 3, downloaded 35, added 0
#19 8.828 Progress: resolved 57, reused 3, downloaded 43, added 0
#19 11.73 apps/web                                 | ÔÇëWARNÔÇë deprecated next@14.2.3
#19 11.74 Progress: resolved 65, reused 3, downloaded 56, added 0
#19 14.55 ÔÇëWARNÔÇë Request took 11276ms: https://registry.npmjs.org/@prisma%2Fclient
#19 15.45 Progress: resolved 66, reused 3, downloaded 60, added 0
#19 16.45 Progress: resolved 68, reused 3, downloaded 60, added 0
#19 17.53 Progress: resolved 68, reused 3, downloaded 61, added 0
#19 18.57 Progress: resolved 75, reused 3, downloaded 62, added 0
#19 19.57 Progress: resolved 100, reused 3, downloaded 75, added 0
#19 20.57 Progress: resolved 119, reused 3, downloaded 100, added 0
#19 21.57 Progress: resolved 129, reused 3, downloaded 106, added 0
#19 22.57 Progress: resolved 135, reused 3, downloaded 115, added 0
#19 23.57 Progress: resolved 145, reused 3, downloaded 120, added 0
#19 24.58 Progress: resolved 153, reused 3, downloaded 130, added 0
#19 25.58 Progress: resolved 169, reused 3, downloaded 142, added 0
#19 26.59 Progress: resolved 187, reused 3, downloaded 162, added 0
#19 27.59 Progress: resolved 200, reused 3, downloaded 172, added 0
#19 28.59 Progress: resolved 221, reused 3, downloaded 189, added 0
#19 28.86 ÔÇëWARNÔÇë Tarball download average speed 46 KiB/s (size 156 KiB) is below 50 KiB/s: https://registry.npmjs.org/tough-cookie/-/tough-cookie-6.0.0.tgz (GET)
#19 29.59 Progress: resolved 238, reused 3, downloaded 206, added 0
#19 30.66 Progress: resolved 246, reused 3, downloaded 217, added 0
#19 31.66 Progress: resolved 250, reused 3, downloaded 223, added 0
#19 32.66 Progress: resolved 264, reused 3, downloaded 228, added 0
#19 33.66 Progress: resolved 275, reused 3, downloaded 237, added 0
#19 34.66 Progress: resolved 282, reused 3, downloaded 245, added 0
#19 35.66 Progress: resolved 292, reused 3, downloaded 251, added 0
#19 36.67 Progress: resolved 308, reused 3, downloaded 265, added 0
#19 37.67 Progress: resolved 330, reused 3, downloaded 286, added 0
#19 38.67 Progress: resolved 333, reused 3, downloaded 289, added 0
#19 39.00 ÔÇëWARNÔÇë Tarball download average speed 29 KiB/s (size 36 KiB) is below 50 KiB/s: https://registry.npmjs.org/lz-string/-/lz-string-1.5.0.tgz (GET)
#19 39.24 ÔÇëWARNÔÇë Tarball download average speed 35 KiB/s (size 57 KiB) is below 50 KiB/s: https://registry.npmjs.org/dom-accessibility-api/-/dom-accessibility-api-0.5.16.tgz (GET)
#19 39.69 ÔÇëWARNÔÇë Request took 10005ms: https://registry.npmjs.org/@next%2Fswc-darwin-arm64
#19 39.79 Progress: resolved 342, reused 3, downloaded 298, added 0
#19 40.79 Progress: resolved 344, reused 3, downloaded 303, added 0
#19 42.19 Progress: resolved 345, reused 3, downloaded 303, added 0
#19 43.27 Progress: resolved 349, reused 3, downloaded 304, added 0
#19 44.36 Progress: resolved 357, reused 3, downloaded 310, added 0
#19 45.48 Progress: resolved 374, reused 3, downloaded 328, added 0
#19 46.48 Progress: resolved 390, reused 3, downloaded 344, added 0
#19 47.48 Progress: resolved 413, reused 3, downloaded 361, added 0
#19 48.63 Progress: resolved 424, reused 3, downloaded 372, added 0
#19 49.42 ÔÇëWARNÔÇë Request took 11802ms: https://registry.npmjs.org/electron-to-chromium
#19 49.62 Progress: resolved 431, reused 3, downloaded 382, added 0
#19 50.62 Progress: resolved 449, reused 3, downloaded 395, added 0
#19 51.62 Progress: resolved 465, reused 3, downloaded 409, added 0
#19 52.62 Progress: resolved 477, reused 3, downloaded 425, added 0
#19 53.62 Progress: resolved 485, reused 3, downloaded 431, added 0
#19 54.61 Progress: resolved 501, reused 3, downloaded 443, added 0
#19 55.61 Progress: resolved 510, reused 3, downloaded 457, added 0
#19 56.61 Progress: resolved 520, reused 3, downloaded 463, added 0
#19 57.62 Progress: resolved 526, reused 3, downloaded 463, added 0
#19 58.68 Progress: resolved 532, reused 3, downloaded 463, added 0
#19 59.79 Progress: resolved 542, reused 3, downloaded 463, added 0
#19 60.79 Progress: resolved 556, reused 3, downloaded 463, added 0
#19 61.79 Progress: resolved 578, reused 3, downloaded 476, added 0
#19 62.79 Progress: resolved 589, reused 3, downloaded 489, added 0
#19 63.80 Progress: resolved 624, reused 3, downloaded 496, added 0
#19 64.80 Progress: resolved 637, reused 3, downloaded 513, added 0
#19 65.80 Progress: resolved 648, reused 3, downloaded 523, added 0
#19 66.58 ÔÇëWARNÔÇë Request took 14644ms: https://registry.npmjs.org/@prisma%2Fget-platform
#19 66.81 Progress: resolved 654, reused 3, downloaded 525, added 0
#19 67.83 Progress: resolved 662, reused 3, downloaded 535, added 0
#19 69.22 Progress: resolved 669, reused 3, downloaded 546, added 0
#19 70.22 Progress: resolved 685, reused 3, downloaded 556, added 0
#19 71.23 Progress: resolved 693, reused 3, downloaded 568, added 0
#19 72.23 Progress: resolved 706, reused 3, downloaded 577, added 0
#19 73.23 Progress: resolved 715, reused 3, downloaded 585, added 0
#19 74.60 Progress: resolved 717, reused 3, downloaded 586, added 0
#19 75.71 Progress: resolved 735, reused 3, downloaded 599, added 0
#19 76.72 Progress: resolved 748, reused 3, downloaded 616, added 0
#19 77.72 Progress: resolved 769, reused 3, downloaded 639, added 0
#19 78.72 Progress: resolved 800, reused 3, downloaded 673, added 0
#19 79.72 Progress: resolved 814, reused 3, downloaded 681, added 0
#19 80.73 Progress: resolved 845, reused 3, downloaded 711, added 0
#19 81.73 Progress: resolved 878, reused 3, downloaded 739, added 0
#19 82.73 Progress: resolved 906, reused 3, downloaded 783, added 0
#19 84.01 Progress: resolved 919, reused 3, downloaded 829, added 0
#19 84.04 .                                        | +834 ++++++++++++++++++++++++++++++++
#19 85.00 Progress: resolved 919, reused 3, downloaded 833, added 19
#19 86.00 Progress: resolved 919, reused 3, downloaded 833, added 455
#19 87.01 Progress: resolved 919, reused 3, downloaded 833, added 740
#19 87.73 Progress: resolved 919, reused 3, downloaded 833, added 834, done
#19 88.56 .../node_modules/@prisma/engines postinstall$ node scripts/postinstall.js
#19 88.67 .../esbuild@0.21.5/node_modules/esbuild postinstall$ node install.js
#19 88.74 .../esbuild@0.19.12/node_modules/esbuild postinstall$ node install.js
#19 89.18 .../esbuild@0.21.5/node_modules/esbuild postinstall: Done
#19 89.20 .../esbuild@0.19.12/node_modules/esbuild postinstall: Done
#19 89.57 .../node_modules/@prisma/engines postinstall: prisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
#19 89.57 .../node_modules/@prisma/engines postinstall: Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.
#19 100.5 .../node_modules/@prisma/engines postinstall: Done
#19 101.0 .../prisma@5.22.0/node_modules/prisma preinstall$ node scripts/preinstall-entry.js
#19 101.1 .../prisma@5.22.0/node_modules/prisma preinstall: Done
#19 101.3 .../node_modules/@prisma/client postinstall$ node scripts/postinstall.js
#19 102.1 .../node_modules/@prisma/client postinstall: prisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
#19 102.1 .../node_modules/@prisma/client postinstall: Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.
#19 102.4 .../node_modules/@prisma/client postinstall: prisma:warn We could not find your Prisma schema in the default locations (see: https://pris.ly/d/prisma-schema-location).
#19 102.4 .../node_modules/@prisma/client postinstall: If you have a Prisma schema file in a custom path, you will need to run
#19 102.4 .../node_modules/@prisma/client postinstall: `prisma generate --schema=./path/to/your/schema.prisma` to generate Prisma Client.
#19 102.4 .../node_modules/@prisma/client postinstall: If you do not have a Prisma schema file yet, you can ignore this message.
#19 102.5 .../node_modules/@prisma/client postinstall: Done
#19 105.2 . preinstall$ node -e "const ua=process.env.npm_config_user_agent||''; if(!ua.includes('pnpm')) console.warn('[warn] Please use pnpm. Detected UA:', ua);"
#19 105.3 . preinstall: Done
#19 105.5 Done in 1m 45s using pnpm v10.19.0
#19 DONE 107.3s

#20 [builder 12/15] WORKDIR /app/apps/web
#20 DONE 1.6s

#21 [builder 13/15] RUN pnpm exec prisma generate --schema ./prisma/schema.prisma
#21 1.832 prisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
#21 1.832 Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.
#21 2.125 Environment variables loaded from .env
#21 2.129 Prisma schema loaded from prisma/schema.prisma
#21 2.184 prisma:warn Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-1.1.x".
#21 2.184 Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.
#21 5.644 
#21 5.644 Ô£ö Generated Prisma Client (v5.22.0) to ./node_modules/.prisma/client in 1.60s
#21 5.644 
#21 5.644 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
#21 5.644 
#21 5.644 Help us improve the Prisma ORM for everyone. Share your feedback in a short 2-min survey: https://pris.ly/orm/survey/release-5-22
#21 5.644 
#21 DONE 6.1s

#22 [builder 14/15] WORKDIR /app
#22 DONE 0.2s

#23 [builder 15/15] RUN pnpm --filter @propad/web... run build
#23 1.373 Scope: 4 of 7 workspace projects
#23 1.385 packages/config build$ tsc -p tsconfig.json
#23 1.390 packages/sdk build$ tsc -p tsconfig.json
#23 1.392 packages/ui build$ tsc -p tsconfig.json
#23 6.087 packages/config build: Done
#23 9.060 packages/ui build: Done
#23 9.663 packages/sdk build: Done
#23 9.664 apps/web build$ next build
#23 12.03 apps/web build: Attention: Next.js now collects completely anonymous telemetry regarding usage.
#23 12.03 apps/web build: This information is used to shape Next.js' roadmap and prioritize features.
#23 12.03 apps/web build: You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#23 12.03 apps/web build: https://nextjs.org/telemetry
#23 12.11 apps/web build:   Ôû▓ Next.js 14.2.3
#23 12.11 apps/web build:   - Environments: .env.local, .env
#23 12.11 apps/web build:   - Experiments (use with caution):
#23 12.11 apps/web build:     ┬À instrumentationHook
#23 12.50 apps/web build:    Creating an optimized production build ...
#23 13.20 apps/web build:  Ô£ô (pwa) Compiling for server...
#23 13.21 apps/web build:  Ô£ô (pwa) Compiling for server...
#23 13.21 apps/web build:  Ô£ô (pwa) Compiling for client (static)...
#23 13.22 apps/web build:  Ôùï (pwa) Service worker: /app/apps/web/public/sw.js
#23 13.22 apps/web build:  Ôùï (pwa)   URL: /sw.js
#23 13.22 apps/web build:  Ôùï (pwa)   Scope: /
#23 95.46 apps/web build:  Ô£ô Compiled successfully
#23 95.46 apps/web build:    Linting and checking validity of types ...
#23 138.8 apps/web build: Failed to compile.
#23 138.8 apps/web build: ./app/actions/verification.ts:6:10
#23 138.8 apps/web build: Type error: Module '"@prisma/client"' has no exported member 'VerificationStatus'.
#23 138.8 apps/web build: [0m [90m 4 |[39m [36mimport[39m { auth } [36mfrom[39m [32m'@/auth'[39m[33m;[39m[0m
#23 138.8 apps/web build: [0m [90m 5 |[39m [36mimport[39m { revalidatePath } [36mfrom[39m [32m'next/cache'[39m[33m;[39m[0m
#23 138.8 apps/web build: [0m[31m[1m>[22m[39m[90m 6 |[39m [36mimport[39m { [33mVerificationStatus[39m[33m,[39m [33mVerificationType[39m[33m,[39m [33mVerificationItemStatus[39m[33m,[39m [33mVerificationItemType[39m } [36mfrom[39m [32m'@prisma/client'[39m[33m;[39m[0m
#23 138.8 apps/web build: [0m [90m   |[39m          [31m[1m^[22m[39m[0m
#23 138.8 apps/web build: [0m [90m 7 |[39m[0m
#23 138.8 apps/web build: [0m [90m 8 |[39m [36mexport[39m [36masync[39m [36mfunction[39m getPropertyVerification(propertyId[33m:[39m string) {[0m
#23 138.8 apps/web build: [0m [90m 9 |[39m     [36mtry[39m {[0m
#23 139.7 apps/web build: Failed
#23 140.4 /app/apps/web:
#23 140.4 ÔÇëERR_PNPM_RECURSIVE_RUN_FIRST_FAILÔÇë @propad/web@0.1.0 build: `next build`
#23 140.4 Exit status 1
#23 ERROR: process "/bin/sh -c pnpm --filter @propad/web... run build" did not complete successfully: exit code: 1
------
 > [builder 15/15] RUN pnpm --filter @propad/web... run build:
138.8 apps/web build: [0m [90m 5 |[39m [36mimport[39m { revalidatePath } [36mfrom[39m [32m'next/cache'[39m[33m;[39m[0m
138.8 apps/web build: [0m[31m[1m>[22m[39m[90m 6 |[39m [36mimport[39m { [33mVerificationStatus[39m[33m,[39m [33mVerificationType[39m[33m,[39m [33mVerificationItemStatus[39m[33m,[39m [33mVerificationItemType[39m } [36mfrom[39m [32m'@prisma/client'[39m[33m;[39m[0m
138.8 apps/web build: [0m [90m   |[39m          [31m[1m^[22m[39m[0m
138.8 apps/web build: [0m [90m 7 |[39m[0m
138.8 apps/web build: [0m [90m 8 |[39m [36mexport[39m [36masync[39m [36mfunction[39m getPropertyVerification(propertyId[33m:[39m string) {[0m
138.8 apps/web build: [0m [90m 9 |[39m     [36mtry[39m {[0m
139.7 apps/web build: Failed
140.4 /app/apps/web:
140.4 ÔÇëERR_PNPM_RECURSIVE_RUN_FIRST_FAILÔÇë @propad/web@0.1.0 build: `next build`
140.4 Exit status 1
------
docker : 
web.Dockerfile:26
At line:1 char:1
+ docker compose 
build web 2>&1 | 
Out-File -FilePath 
"c:\projects\propa 
...
+ ~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~
    + CategoryInfo   
           : NotSpe  
  cified: (web.Doc   
 kerfile:26:Strin    
g) [], RemoteExc    
eption
    + FullyQualified 
   ErrorId : Native  
  CommandError
 

--------------------

  24 |     WORKDIR 
/app

  25 |     

  26 | >>> RUN pnpm 
--filter 
@propad/web... run 
build

  27 |     

  28 |     FROM 
${NODE_IMAGE} AS 
runner

--------------------

failed to solve: 
process "/bin/sh -c 
pnpm --filter 
@propad/web... run 
build" did not 
complete 
successfully: exit 
code: 1

